# SOROSH Programmer Firewall

ฺฉ ุงุณฺฉุฑูพุช ุญุฑููโุง ุจุฑุง ุจูุงฺฉ ฺฉุฑุฏู IPูุง ุงุฑุงู ู ุญูุงุธุช ุงุฒ ุณุฑูุฑ.
Reality VPN ุฑู ูพูุฑุช 443 ุณุงูู ูโูุงูุฏ.

---

## โก ุงุฌุฑุง ูุณุชูู
ุจุฑุง ูุตุจ ู ุงุฌุฑุง ุณุฑุน ฺฉุงูุณุช ุฑู ุณุฑูุฑ ุจุฒูุฏ:

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/SOROSH-Programmer/THESOROSH/main/install.sh)
```

> ุงู ุฏุณุชูุฑ ฺฉู ุงุณฺฉุฑูพุช ุฑุง ุฏุงูููุฏ ู ุงุฌุฑุง ูโฺฉูุฏ ุจุฏูู ูุงุฒ ุจู ุณุงุฎุช ูุงู ุฏุณุช.

---

## ๐งฉ ุชูุถุญ ุงุณฺฉุฑูพุช
- **ipset**: ุณุงุฎุช ูุฌููุนู IPูุง ุงุฑุงู
- **iptables**: ุจูุงฺฉ ฺฉุฑุฏู NEW connection ุจู ุงุฑุงูุ ุงุฌุงุฒู ุฏุงุฏู ุจู 443
- **atomic swap**: ุจุฏูู ูููู ุฏุฑ ุงุชุตุงูโูุง ูุนุงู
- **netfilter-persistent**: ุฐุฎุฑู rules ุจุนุฏ ุงุฒ ุฑุจูุช

---

## ๐ ุชุณุช ุงุฌุฑุง
### ุจุฑุฑุณ ูุณุช IP ูุง ุงุฑุงู
```bash
ipset list iran | head
```
> ููุงุด ฑฐ ููุฑุฏ ุงูู ุจุฑุง ุชุณุช ุณุฑุน.

### ุชุณุช ุจูุงฺฉ ุดุฏู ุงุฑุงู
```bash
curl http://91.98.0.1 --max-time 5
```
> ุงุชุตุงู ุจู IP ุงุฑุงู ุจุงุฏ ุชุงูโุงูุช ุจุฏู.

### ุชุณุช ุงุชุตุงู ุฎุงุฑุฌ (Reality ู ุงูุชุฑูุช)
```bash
curl https://google.com --max-time 5
```
> ุจุงุฏ ุฌูุงุจ ุจุฏูุ ุนู Reality ุณุงูู ุงุณุช.

---

## ๐ ุขูพุฏุช ุฎูุฏฺฉุงุฑ
ุจุฑุง ุขูพุฏุช ุฑูุฒุงูู ูุณุช ุงุฑุงู:
```bash
crontab -e
```
ุงุถุงูู ฺฉูุฏ:
```
0 4 * * * /root/install.sh
```
> ูุฑ ุฑูุฒ ุณุงุนุช ด ุตุจุญ ูุณุช ุงุฑุงู ุขูพุฏุช ูโุดูุฏ.

---

## โ๏ธ ูุฏุฑุช ุจูุงฺฉโูุง
### ุบุฑูุนุงู ฺฉุฑุฏู ุจูุงฺฉ ุงุฑุงู
```bash
iptables -D OUTPUT -m set --match-set iran dst -m conntrack --ctstate NEW -j REJECT
```

### ุญุฐู ฺฉุงูู ipset ุงุฑุงู
```bash
ipset destroy iran
```

### ุฐุฎุฑู ุชุบุฑุงุช
```bash
netfilter-persistent save
```
> ุญูุธ ุชุบุฑุงุช iptables ู ipset ุจุนุฏ ุงุฒ ุฑุจูุช.

---

## โ License
MIT License